# Запрос с повтором

**Ограничение времени:** 1 с  
**Ограничение памяти:** 64.0 Мб  

Напишите функцию `fetchWithAutoRetry(fetcher, count)`, которая делает запрос с помощью переданной функции `fetcher` и автоматически повторяет его в случае ошибки.

---

## Формат ввода

Вы должны экспортировать **асинхронную функцию** `fetchWithAutoRetry`, которая принимает два аргумента:

- `fetcher` — асинхронная функция, которую нужно использовать для выполнения запроса  
- `count` — количество дополнительных попыток, если `fetcher` вернёт ошибку  

**Требования:**

- Если все запросы завершились ошибкой, необходимо выбросить **последнюю ошибку**, иначе вернуть **первое успешное значение**  
- Запросы выполняются **последовательно** (параллельные запросы запрещены)  
- Нельзя вызывать `fetcher` больше **count + 1 раз**  
- Нельзя вызывать `fetcher`, если уже был получен успешный ответ  

---

## Формат вывода

Функция возвращает **Promise**, который:

- либо разрешается с результатом первого успешного вызова `fetcher`  
- либо выбрасывает последнюю полученную ошибку, если все попытки завершились неудачей  

---

## Примеры

### Пример 1

**Ввод:**
```js
const fetcher = createFetcherMock([
  {'error': '504 Gateway Timeout'},
  {'error': '503 Service Unavailable'},
  {'error': '502 Bad Gateway'},
  {'error': '500 Internal Server Error'},
  {'data': 'Hello, world!'},
  {'data': 'Yandex'}
]);

fetchWithAutoRetry(fetcher, 5)
  .then((data) => console.log('Success:', data))
  .catch((error) => console.error('Error:', error));
